import{Y as s,h as t,o as e,c as a,w as o,a as i,b as l,r as n,F as c,p as r,i as u,q as f,S as d,e as h,f as m,t as k,y as p,z as g,l as _,A as b,B as y,n as j,s as w,m as x,C as v}from"./index-Cu8aJ5WD.js";import{_ as I}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{b as C}from"./base.Drg68jFH.js";import O from"./pages-home-setting.DdJA5Gyi.js";import S from"./pages-home-yiyan.DCdHZ2Hb.js";import J from"./pages-home-tiangou.CUISzEbS.js";import N from"./pages-home-acgnews.DGR4zL6m.js";const T=s.importObject("castInfo",{customUI:!0});const q=I({data:()=>({bannerlist:[]}),methods:{async getbanner(){this.bannerlist=await T.getbanner()},goto(s){"app"==s.urlType?t({url:s.url}):"web"==s.urlType&&t({url:"/pages/apps/webview?url=http666"+s.url})}},mounted(){this.getbanner()}},[["render",function(s,t,h,m,k,p){const g=f,_=d,b=r,y=u;return e(),a(y,{class:"banner"},{default:o((()=>[i(b,{circular:"",autoplay:"",interval:"5000"},{default:o((()=>[(e(!0),l(c,null,n(k.bannerlist,(s=>(e(),a(_,{onClick:t=>p.goto(s)},{default:o((()=>[i(g,{src:s.imgUrl,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["onClick"])))),256))])),_:1})])),_:1})}],["__scopeId","data-v-c611e400"]]),z=s.importObject("castInfo",{customUI:!0});const U=I({data:()=>({comlist:""!=_("comlist")?JSON.parse(_("comlist")):""}),methods:{refresh(){this.comlist=""!=_("comlist")?JSON.parse(_("comlist")):"",this.$nextTick((()=>{for(var s=0;s<this.comlist.length;s++)this.$refs.reflist[s].refresh()}))},loadcom(){if(""==this.comlist){let s=[{name:"近期考试",id:"kaoshi"},{name:"今日课程",id:"kecheng"}];this.comlist=s,w("comlist",JSON.stringify(s))}}},components:{castInfo:I({data:()=>({castinfo:"获取公告中..."}),methods:{goto(){"app"==this.castinfo.urlType?t({url:this.castinfo.url}):"web"==this.castinfo.urlType&&t({url:"/pages/apps/webview?url=http666"+this.castinfo.url})},async getcastinfo(){let s=await z.getcastinfo();this.castinfo="error"==s?{info:"获取失败"}:s[0]}},mounted(){this.getcastinfo()}},[["render",function(s,t,l,n,c,r){const f=g,d=u;return c.castinfo.isShow?(e(),a(d,{key:0,onClick:r.goto,class:"castinfo"},{default:o((()=>[h("i",{class:"bi bi-megaphone-fill"}),i(f,null,{default:o((()=>[m(k(c.castinfo.info),1)])),_:1})])),_:1},8,["onClick"])):p("",!0)}],["__scopeId","data-v-597e7fc5"]]),banner:q,kaoshi:I({data:()=>({kaoshi:""!=_("kaoshi")?JSON.parse(_("kaoshi")):"",day:0,month:0}),methods:{gotokaoshi(){t({url:"/pages/apps/kaoshi"})},refresh(){this.kaoshi=""!=_("kaoshi")?JSON.parse(_("kaoshi")):""}},mounted(){let s=new Date;this.day=s.getDate(),this.month=s.getMonth()+1,this.refresh()}},[["render",function(s,t,r,f,d,h){const p=u,_=g;return e(),a(p,{class:"kaoshi",onClick:h.gotokaoshi},{default:o((()=>[i(p,{class:"title"},{default:o((()=>[m("近期考试")])),_:1}),i(p,{class:"box"},{default:o((()=>[(e(!0),l(c,null,n(d.kaoshi,(s=>b((e(),a(p,{class:"item"},{default:o((()=>[i(p,{class:"ksmc"},{default:o((()=>[m(k(s.kcmc),1)])),_:2},1024),i(p,{class:"ksmc"},{default:o((()=>[m(k(s.cdmc)+" ",1),b(i(_,null,{default:o((()=>[m(k(s.kssj.slice(5,7)-0-(d.month-0))+"月",1)])),_:2},1536),[[y,s.kssj.slice(5,7)-0>d.month-0]]),m(k(s.kssj.slice(8,10)-0-(d.day-0))+"天后考试",1)])),_:2},1024),i(p,{class:"fence"})])),_:2},1536)),[[y,s.kssj.slice(5,7)-0>=d.month&&s.kssj.slice(8,10)-0>=d.day||s.kssj.slice(5,7)-0>d.month]]))),256))])),_:1})])),_:1},8,["onClick"])}],["__scopeId","data-v-d14a9d12"]]),kecheng:I({data:()=>({kaoshi:""!=_("kebiao")?JSON.parse(_("kebiao")):"",zhou:C.getWeekInYear()-C.startWeek,xqj:C.getWeek()}),methods:{gotokebiao(){t({url:"/pages/apps/kebiao"})},refresh(){this.kaoshi=""!=_("kebiao")?JSON.parse(_("kebiao")):""}},mounted(){}},[["render",function(s,t,r,f,d,h){const _=u,w=g;return e(),a(_,{class:"kaoshi",onClick:h.gotokebiao},{default:o((()=>[i(_,{class:"title"},{default:o((()=>[m("今日课程")])),_:1}),i(_,{class:"box"},{default:o((()=>[(e(!0),l(c,null,n(d.kaoshi,(s=>b((e(),a(_,{style:j({filter:"hue-rotate("+s.color+"deg)"}),class:"item"},{default:o((()=>[i(_,{class:"ksmc"},{default:o((()=>[m(k(s.kcmc),1)])),_:2},1024),i(_,{class:"ksmc"},{default:o((()=>[s.ks<=5?(e(),a(w,{key:0},{default:o((()=>[m("上午第"+k(s.ks)+"节",1)])),_:2},1024)):p("",!0),s.ks>5&&s.ks<=9?(e(),a(w,{key:1},{default:o((()=>[m("下午第"+k(s.ks-5)+"节",1)])),_:2},1024)):p("",!0),s.k>9?(e(),a(w,{key:2},{default:o((()=>[m("晚上第"+k(s.ks-9)+"节",1)])),_:2},1024)):p("",!0),m(" "+k(s.cdmc)+" "+k(s.xm),1)])),_:2},1024),i(_,{class:"fence"})])),_:2},1032,["style"])),[[y,s.xqj==d.xqj&&s.zs.includes(d.zhou)]]))),256))])),_:1})])),_:1},8,["onClick"])}],["__scopeId","data-v-59ff6573"]]),setting:O,yiyan:S,tiangou:J,acgnews:N},mounted(){this.loadcom()}},[["render",function(s,t,r,f,d,h){const m=u,k=x("cast-info"),p=x("banner"),g=x("setting");return e(),l(c,null,[i(m,{class:"topbox"}),i(m,{class:"manbox"},{default:o((()=>[i(k,{style:{position:"sticky",top:"0"}}),i(p,{style:{position:"sticky",top:"4px","background-color":"white"}}),(e(!0),l(c,null,n(d.comlist,((s,t)=>(e(),a(v(s.id),{style:j([{top:24*(t+1)+"px"},{position:"sticky","background-color":"white"}]),ref_for:!0,ref:"reflist"},null,8,["style"])))),256)),i(g)])),_:1})],64)}],["__scopeId","data-v-e0b3a783"]]);export{U as default};
