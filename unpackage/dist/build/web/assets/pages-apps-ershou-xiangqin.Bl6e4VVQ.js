import{Y as s,l as t,v as a,h as i,c as o,w as e,i as l,o as d,a as c,f as r,t as g,e as u,y as h,d as n,q as p}from"./index-Dkb7w5wx.js";import{_ as f}from"./_plugin-vue_export-helper.BCo6x5W8.js";const _=s.importObject("goods");const b=f({data:()=>({goods:{title:"加载中"},id:t("userid"),isstar:!1}),methods:{async star(){let s=await _.setstar({goodsid:this.goods._id,userid:this.id,star:!this.isstar});a("success"==s?{title:"收藏成功"}:{title:"收藏失败"}),this.isstar=await _.getstar({goodsid:this.goods.id,userid:this.id,star:!this.isstar})},gotochat(){i({url:"/pages/apps/ershou/chat?id="+this.goods.seller})},checkout(){i({url:"/pages/apps/ershou/checkout?id="+this.goods._id})},async getgoods(s){let t=await _.getGoods(s);this.goods=t[0],this.isstar=await _.getstar({goodsid:t[0]._id,userid:this.id})}},mounted(){},onLoad(s){this.getgoods(s.id)}},[["render",function(s,t,a,i,f,_){const b=l,k=p;return d(),o(b,{class:"page"},{default:e((()=>[c(b,{class:"topbox"},{default:e((()=>[c(b,{class:"title"},{default:e((()=>[r(g(f.goods.title),1)])),_:1})])),_:1}),c(b,{class:"appbox"},{default:e((()=>[c(k,{mode:"aspectFill",class:"mainimg",src:f.goods.imgUrl},null,8,["src"]),c(b,{class:"price"},{default:e((()=>[r("￥"+g(f.goods.price),1)])),_:1}),c(b,{class:"buttonpake"},{default:e((()=>["selling"==f.goods.state?(d(),o(b,{key:0,onClick:_.checkout,class:"buy"},{default:e((()=>[r("我要了 "),u("i",{class:"bi bi-bag-heart-fill"})])),_:1},8,["onClick"])):h("",!0),c(b,{onClick:_.gotochat,class:"chat"},{default:e((()=>[r("聊一聊 "),u("i",{class:"bi bi-chat-dots-fill"})])),_:1},8,["onClick"]),c(b,{onClick:_.star,class:"star"},{default:e((()=>[u("i",{class:n([[f.isstar?"bi-star-fill":"bi-star"],"bi"])},null,2)])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-7cf47a27"]]);export{b as default};
