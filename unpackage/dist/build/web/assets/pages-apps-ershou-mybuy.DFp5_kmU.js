import{g as s,m as t,M as a,x as e,c as o,w as i,i as l,o as d,a as c,f as u,e as r,b as g,r as n,F as _,t as b,z as f,u as m,Q as y}from"./index-BFUhPeOX.js";import{_ as p}from"./_plugin-vue_export-helper.BCo6x5W8.js";const h=s.importObject("userInfo"),x=s.importObject("goods");const k=p({data:()=>({mybuy:[],id:t("userid"),_id:""}),methods:{getgoods(s){a({title:"确认收货",content:"已经确认货物正常？",success:t=>{t.confirm&&(this._id=s._id,this.confget())}})},async confget(){"sucess"==await x.getgoods({_id:this._id})?(e({title:"确认收货",duration:2e3}),this.getmybuy()):e({title:"收货失败",duration:2e3})},async getmybuy(){let s=await h.getmybuy({id:this.id});this.mybuy=s}},mounted(){this.getmybuy()}},[["render",function(s,t,a,e,p,h){const x=l,k=m,w=y;return d(),o(x,{class:"page"},{default:i((()=>[c(x,{class:"topbox"},{default:i((()=>[c(x,{class:"title"},{default:i((()=>[u("我买到的"),r("i",{class:"bi bi-caret-right-fill"})])),_:1})])),_:1}),c(x,{class:"appbox"},{default:i((()=>[(d(!0),g(_,null,n(p.mybuy,(s=>(d(),o(x,{class:"goods-item"},{default:i((()=>[c(w,{url:"/pages/apps/ershou/xiangqin?id="+s._id},{default:i((()=>[c(k,{class:"goods-image",mode:"aspectFill",src:s.imgUrl},null,8,["src"]),c(x,{class:"rightbox"},{default:i((()=>[c(x,{class:"goods-title"},{default:i((()=>[u(b(s.title),1)])),_:2},1024),c(x,{class:"goods-price"},{default:i((()=>[u("￥"+b(s.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["url"]),"waitsent"==s.state?(d(),o(x,{key:0,class:"goods-button"},{default:i((()=>[u("等待交易")])),_:1})):f("",!0),"waitget"==s.state?(d(),o(x,{key:1,onClick:t=>h.getgoods(s),class:"goods-button"},{default:i((()=>[u("确认收货")])),_:2},1032,["onClick"])):f("",!0),"selled"==s.state?(d(),o(x,{key:2,style:{background:"white",color:"black"},class:"goods-button"},{default:i((()=>[u("交易完成")])),_:1})):f("",!0)])),_:2},1024)))),256))])),_:1})])),_:1})}],["__scopeId","data-v-423ab2b3"]]);export{k as default};
