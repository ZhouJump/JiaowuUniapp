import{g as s,m as t,M as e,x as l,c as a,w as i,i as o,o as d,a as c,f as n,e as u,b as r,r as g,F as _,t as f,z as m,u as p,Q as h}from"./index-BFUhPeOX.js";import{_ as y}from"./_plugin-vue_export-helper.BCo6x5W8.js";const b=s.importObject("userInfo"),x=s.importObject("goods");const k=y({data:()=>({mysell:[],id:t("userid"),_id:""}),methods:{delgoods(s){e({title:"确认删除",content:s.title,success:t=>{t.confirm&&(this._id=s._id,this.confdel())}})},async confdel(){"sucess"==await x.delgoods({_id:this._id})?(l({title:"删除完成",duration:2e3}),this.getmysell()):l({title:"删除失败",duration:2e3})},gotosent(s){e({title:"已经交付给买家了吗？",content:s.address,confirmText:"已经交付",cancelText:"还没",success:t=>{t.confirm&&(this._id=s._id,this.confsent())}})},async confsent(){"sucess"==await x.sentgoods({_id:this._id})?(l({title:"发货成功",duration:2e3}),this.getmysell()):l({title:"发货失败",duration:2e3})},async getmysell(){let s=await b.getmysell({id:this.id});console.log(s),this.mysell=s}},mounted(){this.getmysell()}},[["render",function(s,t,e,l,y,b){const x=o,k=p,w=h;return d(),a(x,{class:"page"},{default:i((()=>[c(x,{class:"topbox"},{default:i((()=>[c(x,{class:"title"},{default:i((()=>[n("我发布的"),u("i",{class:"bi bi-caret-right-fill"})])),_:1})])),_:1}),c(x,{class:"appbox"},{default:i((()=>[(d(!0),r(_,null,g(y.mysell,(s=>(d(),a(x,{class:"goods-item"},{default:i((()=>[c(w,{url:"/pages/apps/ershou/xiangqin?id="+s._id},{default:i((()=>[c(k,{class:"goods-image",mode:"aspectFill",src:s.imgUrl},null,8,["src"]),c(x,{class:"rightbox"},{default:i((()=>[c(x,{class:"goods-title"},{default:i((()=>[n(f(s.title),1)])),_:2},1024),c(x,{class:"goods-price"},{default:i((()=>[n("￥"+f(s.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["url"]),"waitget"==s.state?(d(),a(x,{key:0,class:"goods-button"},{default:i((()=>[n("等待收货")])),_:1})):m("",!0),"waitsent"==s.state?(d(),a(x,{key:1,onClick:t=>b.gotosent(s),class:"goods-button"},{default:i((()=>[n("去发货")])),_:2},1032,["onClick"])):m("",!0),"selling"==s.state?(d(),a(x,{key:2,onClick:t=>b.delgoods(s),style:{background:"palevioletred"},class:"goods-button"},{default:i((()=>[n("删除")])),_:2},1032,["onClick"])):m("",!0)])),_:2},1024)))),256))])),_:1})])),_:1})}],["__scopeId","data-v-e99902c8"]]);export{k as default};
