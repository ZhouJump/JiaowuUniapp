import{u as t,h as a,o as e,c as o,w as s,K as r,i as d,T as i,C as n,n as l,a as c,f as A,t as u,y as p,q as f}from"./index-Cu8aJ5WD.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{r as g}from"./uni-app.es.LtBXTwXB.js";import{u as m}from"./js_sdk.Dqq72uFy.js";const v="load",C="error";const y=h({name:"AdInteractive",props:{options:{type:[Object,Array],default:()=>({})},disabled:{type:[Boolean,String],default:!1},adpid:{type:[Number,String],default:""},openType:{type:String,default:"interactive"},openPagePath:{type:String,default:""}},data:()=>({adData:null,loading:!1,errorMessage:""}),created(){this._interactiveUrl=null,this.openPagePath&&this.getAdData()},methods:{getAdData(){this.adpid?(this.loading=!0,t({url:"https://wxac1.dcloud.net.cn/openPage/acs",method:"POST",data:{adpid:this.adpid},timeout:5e3,dataType:"json",success:t=>{if(200!==t.statusCode)return void this.$emit(C,{errCode:t.statusCode,errMsg:t.statusCode});const a=t.data;if(0===a.ret)this._interactiveUrl=a.data.adp_url,this.adData={imgUrl:a.data.icon_url,openPath:this.openPagePath+"?url="+encodeURIComponent(this._interactiveUrl)},this.$emit(v,this.adData);else{const t={errCode:a.ret,errMsg:a.msg};this.errorMessage=t,this.$emit(C,t)}},fail:t=>{this.$emit(C,{errCode:"",errMsg:t.errMsg})},complete:()=>{this.loading=!1}})):this.$emit(C,{code:-5002,message:"invalid adpid"})},onclick(){this.disabled||this._interactiveUrl&&(a({url:this.adData.openPath}),this._report())},_report(){t({url:"https://wxac1.dcloud.net.cn/openPage/acs",data:{adpid:this.adpid,t:"10019"},timeout:5e3,dataType:"json"})}}},[["render",function(t,a,i,n,l,c){const A=d;return e(),o(A,{onClick:c.onclick},{default:s((()=>[r(t.$slots,"default",{options:i.options,data:l.adData,loading:l.loading,error:l.errorMessage},void 0,!0)])),_:3},8,["onClick"])}],["__scopeId","data-v-eeb76269"]]);const w=h({data:()=>({options:{adpid:"",main_color:"",order_no:"",out_trade_no:"",total_fee:"",pay_date:"",return_url:""},images:{success:"data:image/png;base64,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"},color:{wxpay:"#01be6e",alipay:"#108ee9"}}),onLoad(t={}){this.options=t},onReady(){},onShow(){},onHide(){},methods:{timeFormat:m.timeFormat,queryOrder(){let t=this.options.return_url+`?out_trade_no=${this.options.out_trade_no}&order_no=${this.options.order_no}`;0!==t.indexOf("/")&&(t=`/${t}`),a({url:t})},onaderror(t){console.log("ad-error",t)}},watch:{mainColorCom:{immediate:!0,handler(t,a){setTimeout((function(){i({frontColor:"#ffffff",backgroundColor:t})}),0)}}},computed:{mainColorCom(){let t="";return t=this.options.main_color||this.color.wxpay,t},styleCom(){return`--main:${this.mainColorCom};`}}},[["render",function(t,a,r,i,h,m){const v=f,C=d,w=g(n("ad-interactive"),y);return e(),o(C,{class:"app",style:l(m.styleCom)},{default:s((()=>[c(C,{class:"header"},{default:s((()=>[c(v,{src:h.images.success,class:"success-image"},null,8,["src"]),c(C,{class:"success-title"},{default:s((()=>[A("支付成功")])),_:1}),c(C,{class:"hr"})])),_:1}),c(C,{class:"info-box"},{default:s((()=>[c(C,{class:"info-amount"},{default:s((()=>[A("¥ "+u((h.options.total_fee/100).toFixed(2)),1)])),_:1}),c(C,{class:"left-circle"}),c(C,{class:"right-circle"}),c(C,{class:"info-main"},{default:s((()=>[c(C,{class:"info-cell"},{default:s((()=>[c(C,{class:"left"},{default:s((()=>[A("订单编号")])),_:1}),c(C,{class:"right"},{default:s((()=>[A(u(h.options.order_no),1)])),_:1})])),_:1}),c(C,{class:"info-cell"},{default:s((()=>[c(C,{class:"left"},{default:s((()=>[A("付款时间")])),_:1}),c(C,{class:"right"},{default:s((()=>[A(u(m.timeFormat(h.options.pay_date,"yyyy-MM-dd hh:mm:ss")),1)])),_:1})])),_:1})])),_:1})])),_:1}),c(C,{class:"uni-ad"},{default:s((()=>[h.options.adpid?(e(),o(w,{key:0,adpid:h.options.adpid,"open-page-path":"/uni_modules/uni-pay/pages/ad-interactive-webview/ad-interactive-webview",onError:m.onaderror},{default:s((({data:t,loading:a,error:r})=>[t?(e(),o(C,{key:0,class:"ad-interactive"},{default:s((()=>[c(v,{src:t.imgUrl,mode:"widthFix"},null,8,["src"])])),_:2},1024)):p("",!0)])),_:1},8,["adpid","onError"])):p("",!0)])),_:1}),h.options.return_url?(e(),o(C,{key:0,class:"button-query",onClick:m.queryOrder},{default:s((()=>[A("查看订单")])),_:1},8,["onClick"])):p("",!0),c(C,{class:"footer-hr"})])),_:1},8,["style"])}],["__scopeId","data-v-b830d293"]]);export{w as default};
