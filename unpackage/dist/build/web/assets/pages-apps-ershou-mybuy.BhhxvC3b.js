import{Y as s,l as t,M as a,v as e,c as o,w as i,i as l,o as d,a as c,f as u,e as r,b as n,r as g,F as _,t as b,y as f,q as y,Q as m}from"./index-Cu8aJ5WD.js";import{_ as p}from"./_plugin-vue_export-helper.BCo6x5W8.js";const h=s.importObject("userInfo"),k=s.importObject("goods");const x=p({data:()=>({mybuy:[],id:t("userid"),_id:""}),methods:{getgoods(s){a({title:"确认收货",content:"已经确认货物正常？",success:t=>{t.confirm&&(this._id=s._id,this.confget())}})},async confget(){"sucess"==await k.getgoods({_id:this._id})?(e({title:"确认收货",duration:2e3}),this.getmybuy()):e({title:"收货失败",duration:2e3})},async getmybuy(){let s=await h.getmybuy({id:this.id});this.mybuy=s}},mounted(){this.getmybuy()}},[["render",function(s,t,a,e,p,h){const k=l,x=y,w=m;return d(),o(k,{class:"page"},{default:i((()=>[c(k,{class:"topbox"},{default:i((()=>[c(k,{class:"title"},{default:i((()=>[u("我买到的"),r("i",{class:"bi bi-caret-right-fill"})])),_:1})])),_:1}),c(k,{class:"appbox"},{default:i((()=>[(d(!0),n(_,null,g(p.mybuy,(s=>(d(),o(k,{class:"goods-item"},{default:i((()=>[c(w,{url:"/pages/apps/ershou/xiangqin?id="+s._id},{default:i((()=>[c(x,{class:"goods-image",mode:"aspectFill",src:s.imgUrl},null,8,["src"]),c(k,{class:"rightbox"},{default:i((()=>[c(k,{class:"goods-title"},{default:i((()=>[u(b(s.title),1)])),_:2},1024),c(k,{class:"goods-price"},{default:i((()=>[u("￥"+b(s.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["url"]),"waitsent"==s.state?(d(),o(k,{key:0,class:"goods-button"},{default:i((()=>[u("等待交易")])),_:1})):f("",!0),"waitget"==s.state?(d(),o(k,{key:1,onClick:t=>h.getgoods(s),class:"goods-button"},{default:i((()=>[u("确认收货")])),_:2},1032,["onClick"])):f("",!0),"selled"==s.state?(d(),o(k,{key:2,style:{background:"white",color:"black"},class:"goods-button"},{default:i((()=>[u("交易完成")])),_:1})):f("",!0)])),_:2},1024)))),256))])),_:1})])),_:1})}],["__scopeId","data-v-423ab2b3"]]);export{x as default};
